/**
 * @file AEX
 * @version 0.2
 *
 * @author Lvovich
 * @see {@link https://github.com/Lvovich/aex|GitHub}
 *
 * @license MIT
 */
'use strict';try{window.AEX=function(a){if("object"!==typeof this)return console.error('AEX: incorrect call without "new". Plugin Off!'),{kick:function(){}};this.g=this.l(a);this.j()},window.AEX.prototype.h=function(a){var b={};if(window.FormData)b.b="",b.c=new window.FormData,b.c.append("ajax",JSON.stringify(a));else{var c="aex"+(""+Math.random()).slice(2,18);b.b=c;b.c="--"+c+'\r\nContent-Disposition: form-data; name="ajax"\r\n\r\n'+JSON.stringify(a)+"\r\n--"+c+"--"}return b},window.AEX.prototype.kick=
function(a,b){this.m(a,b)?(this.a.f=b,this.a.open("POST",this.g.target,!0),this.a.timeout=this.g.waitingtime,a=this.h(a),a.b&&this.a.setRequestHeader&&this.a.setRequestHeader("Content-Type","multipart/form-data; boundary="+a.b),this.a.send(a.c)):console.warn("AEX.kick: Invalid user data or response handler. Aborted.")},window.AEX.prototype.i=function(){4==this.readyState&&(200==this.status?this.f(this.responseText):this.f(this.status+": "+this.statusText))},window.AEX.prototype.j=function(){this.a=
new XMLHttpRequest;"onload"in this.a||(this.a=new XDomainRequest);this.a.onreadystatechange=this.i;this.a.ontimeout=function(){console.warn("AEX.kick: No server response for a long times. Exchange aborted. Retry later.")}},window.AEX.prototype.l=function(a){if(a.waitingtime){var b=parseInt(+a.waitingtime,10);a.waitingtime=isNaN(b)?3E4:1E3*b}else a.waitingtime=3E4;a.target=a.target?""+a.target:"/";return a},window.AEX.prototype.m=function(a,b){return"object"===typeof a&&"function"===typeof b}}catch(a){console.dir(a)};
